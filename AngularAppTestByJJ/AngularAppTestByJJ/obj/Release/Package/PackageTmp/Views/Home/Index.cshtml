@{
    ViewBag.Title = "Home Page";
}

<h1>Jasper Angular Test</h1>

<script src="~/Content/angular.js"></script>
<script src="~/Content/angular-route.js"></script>
@*<script src="~/Content/App.js"></script>*@
<script src="~/Content/Controllers.js" type="text/javascript"></script>
<script src="~/Content/angular-animate.js" type="text/javascript"></script>
<link href="~/Content/animations.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="https://www.google.com/jsapi"></script>

@*Jquery Ui*@
<script src="~/Content/jquery-ui.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/smoothness/jquery-ui.css">


    <div class="form-group">
        <label class="control-label col-sm-1" >Name:</label>
        <input type="text" ng-model="yourName" placeholder="Enter a name here" class="form-control input-sm col-sm-10">
    </div>
    <br />
    <h1>Hello {{yourName}}!</h1>
<hr />

<script src="~/Content/ToDo.js" type="text/javascript"></script>
<link href="~/Content/Custom.css" type="text/css" rel="stylesheet" />
<div ng-controller="TodoCtrl">
    {{getTotalTodos()}}!!
    <h2> Total todos: {{totalTodos}}</h2>
    <ul class="list-unstyled">
        <li ng-repeat="todo in todos">
            <input type="checkbox" ng-model="todo.done" >
            <span class="done-{{todo.done}}">{{todo.text}}</span>
        </li>
    </ul>

    <form class="form-horizontal">
        <input type="text" ng-model="formTodoText"  class="form-control input-sm" >
        <button class="btn btn-primary" ng-click="addToDo()"><i class="glyphicon glyphicon-plus"></i>Add</button>
      
    </form>

    <button class="btn btn-primary" ng-click="test()"><i class="glyphicon glyphicon-trash"></i>Remove</button>
</div>
<hr />

<div>
    <input class="form-control input-sm" ng-model="jasperTestModel" />
    Nothing here {{jasperTestModel}}
    <p>1+2={{1+2}}</p>
</div>
<hr />


<div id="phoneApp"ng-controller="PhoneCtrl">
    <ul>
        <li ng-repeat="phone in phones">
            <p class="btn btn-primary" ng-click="testFunction()">{{phone.name}}</p>
            <p class="btn btn-default">{{phone.snippet}}</p>
        </li>
    </ul>
</div>

<hr />
<div id="AngularSearch" ng-controller="SearchCtrl" class="container-fluid">
    <div class="row">
        <div class="col-sm-2 form-inline">
          <label class="label label-info">Search</label><input class="form-control"  ng-model="searchData" prefix="Jasper search test" />
        </div>
        <div class="col-sm-10">
            <ul>
                <li ng-repeat="phone in phones| filter:searchData">
                    <label class="label label-primary">{{phone.name}}</label>
                    <label class="label label-danger">{{phone.snippet}}</label>
                </li>
            </ul>
        </div>
    </div>
</div>
<hr />



<div id="AngularControlOrder" ng-controller="OrderControlCtrl">
    Search: <input ng-model="query">
    Sort by:
    <select ng-model="orderProp">
        <option value="name">Alphabetical</option>
        <option value="age">Newest</option>
        <option value="snippet">JasperFilter</option>
    </select>
    <ul>
        <li ng-repeat="phone in phones| filter:searchData | orderBy:orderProp">
            <label class="label label-primary">{{phone.name}}</label>
            <label class="label label-danger">{{phone.snippet}}</label>
            <label class="label label-success">{{phone.age}}</label>
        </li>
    </ul>
</div>
<hr />

<div ng-controller="PhoneListCtrl">
    Search: <input ng-model="searchData">
    <ul>
        <li ng-repeat="city in cities| filter:searchData" class="thumbnail">
            <a href="#/cities/{{city.name}}" class="thumb"><img ng-src="{{city.pic}}" style="width:10%; height:10%"></a>
            <label class="label label-primary">{{city.name}}</label>
            <label class="label label-danger">{{city.country}}</label>
            <label class="label label-success">{{city.population}}</label>
        </li>
    </ul>
</div>
<hr />

<div id="JasperFilterTest">
    <input ng-model="JJtest" prefix="Jasper Test" />

{{JJtest | checkmark}}

</div>


<hr />
@*JJ animation test*@
<script>
    var counter = 0;
    $(document).ready(function (){
        $('#JJtoggleButton').click(function () {
            console.log($('#Period').val());
            $('#JasperAnimationTest').toggle($('#effectTypes').val(),parseInt($('#Period').val()));
            //if (counter % 2 == 1) {
            //    $('#JasperAnimationTest').slideDown(1000);
            //}
            //else
            //{
            //    $('#JasperAnimationTest').slideUp(1000);
            //}
            //counter++;
        })
    })
</script>
<div class="form-inline">
    <select name="effects" id="effectTypes" class="form-control">
        <option value="blind">Blind</option>
        <option value="bounce">Bounce</option>
        <option value="clip">Clip</option>
        <option value="drop">Drop</option>
        <option value="explode">Explode</option>
        <option value="fold">Fold</option>
        <option value="highlight">Highlight</option>
        <option value="puff">Puff</option>
        <option value="pulsate">Pulsate</option>
        <option value="scale">Scale</option>
        <option value="shake">Shake</option>
        <option value="size">Size</option>
        <option value="slide">Slide</option>
    </select>
    <input id="Period" class="form-control" placeholder="Duration" title="Jasper's pop up window test" />
    <button id="JJtoggleButton" class="btn btn-primary">JJ Toggle Buton</button>
</div>
<div id="JasperAnimationTest" ng-controller="PhoneListCtrl">
        Search: <input ng-model="searchData" />
        <ul>
            <li ng-repeat="city in cities| filter:searchData" class="thumbnail jjAnimation">
                <a href="#/cities/{{city.name}}" class="thumb"><img ng-src="{{city.pic}}" style="width:10%; height:10%"></a>
                <label class="label label-primary">{{city.name}}</label>
                <label class="label label-danger">{{city.country}}</label>
                <label class="label label-success">{{city.population}}</label>
            </li>
        </ul>
</div>


@*<style>
    #draggable {
        width: 100px;
        height: 100px;
        background: #ccc;
        border: 1px solid #000;
    }
</style>*@


<script>
    $(function () {
        $("#draggable").resizable();
        $("#draggable").parent().draggable();
    });
</script>
<img id="draggable"src="http://10.200.0.202:7070/AngularTest/Pic/logo.jpg" />

<style>
    #draggableAngular {
        width: 100px;
        height: 100px;
        background: #ccc;
        border: 1px solid #000;
    }
</style>

<div id="draggableAngular" draggable> JJ Angular Drag Test</div>

<hr />

<div ng-controller="DoubleCtrl" class="form-inline">
    <input class="form-control" title="Write value here" ng-model="result" />
    Value : {{double(result)}}
</div>

<div id="JasperControllerTest" ng-controller="JasperCtrl" class="form-inline">
    <button class="btn btn-primary" ng-click="JJTest1()">JJ TEST1</button>
    <button class="btn btn-primary" ng-click="JJTest2()">JJ TEST2</button>
    This is : {{result}}
</div>

<div id="JasperControllerTest" ng-controller="JasperCtrl2" class="form-inline">
    <button class="btn btn-primary" ng-click="JJTest1()">JJ TEST1</button>
    <input class="form-control" title="Input anything here" ng-model="value"/>
    <button class="btn btn-primary" ng-click="JJTest2(value)">JJ TEST2</button>
    This is : {{result}}
    <span class="btn btn-primary" ng-bind="value" ></span>
</div>


<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(drawChart);
    function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Work', 11],
          ['Eat', 2],
          ['Commute', 2],
          ['Watch TV', 2],
          ['Sleep', 7]
        ]);

        var options = {
            title: 'My Daily Activities'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);
        chart = new google.visualization.PieChart(document.getElementById('piechart2'));
        chart.draw(data, options);
        chart = new google.visualization.PieChart(document.getElementById('piechart3'));
        chart.draw(data, options);
    }
</script>

<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(drawChart);
    function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Work', 11],
          ['Eat', 2],
          ['Commute', 2],
          ['Watch TV', 2],
          ['Sleep', 7]
        ]);

        var options = {
            title: 'My Daily Activities',
            is3D: true,
        };

       
        chart = new google.visualization.PieChart(document.getElementById('piechart2'));
        chart.draw(data, options);
       
    }
</script>

<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(drawChart);
    function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Work', 11],
          ['Eat', 2],
          ['Commute', 2],
          ['Watch TV', 2],
          ['Sleep', 7]
        ]);

        var options = {
            title: 'My Daily Activities',
            pieHole: 0.4,
        };


        chart = new google.visualization.PieChart(document.getElementById('piechart3'));
        chart.draw(data, options);

    }
</script>



<script>
    $(function () {
        $("#chartContainer").draggable();
        //$("#chartContainer").resizable();
       
    });
</script>


 <div id="chartContainer" class="row">
     <div class="col-sm-4">
         <div class="thumbnail">
             <div id="piechart" style="width: 100%; height: 300px;"></div>
             <div class="caption">
                 <img id="draggable" src="http://10.200.0.202:7070/AngularTest/Pic/logo.jpg" />
                 <h3>JJ Pie Chart Demo</h3>
                 <p>A pie chart that is rendered within the browser using SVG or VML. Displays tooltips when hovering over slices</p>
                 <button class="btn btn-primary">Button1</button>
                 <button class="btn btn-primary">Button2</button>
             </div>
         </div>
     </div>
     <div class="col-sm-4">
         <div class="thumbnail">
             <div id="piechart2" style="width: 100%; height: 300px;"></div>
             <div class="caption">
                 <img id="draggable" src="http://10.200.0.202:7070/AngularTest/Pic/logo.jpg" />
                 <h3>JJ Pie Chart Demo2</h3>
                 <p>A pie chart that is rendered within the browser using SVG or VML. Displays tooltips when hovering over slices</p>
                 <button class="btn btn-primary">Button1</button>
                 <button class="btn btn-primary">Button2</button>
             </div>
         </div>
     </div>
     <div class="col-sm-4">
         <div class="thumbnail">
             <div id="piechart3" style="width: 100%; height: 300px;"></div>
             <div class="caption">
                 <img id="draggable" src="http://10.200.0.202:7070/AngularTest/Pic/logo.jpg" />
                 <h3>JJ Pie Chart Demo3</h3>
                 <p>A pie chart that is rendered within the browser using SVG or VML. Displays tooltips when hovering over slices</p>
                 <button class="btn btn-primary">Button1</button>
                 <button class="btn btn-primary">Button2</button>
             </div>
         </div>
     </div>
</div>


<div class="form-inline">
    <button id="AddViewTest" class="btn btn-primary">Add</button>
    <button id="RemoveViewTest" class="btn btn-primary">Remove</button>
</div>

<script>
    var $newChartID = 1;
    var $removeChartID;
    $('#AddViewTest').click(function () {
        var test = $("<div class=\"col-sm-4\" id=\"newThumbNail"+$newChartID+"\"><div class=\"thumbnail\"><div id=\"newPieChart" + $newChartID + "\" style=\"width: 100%; height: 300px;\"></div><div class=\"caption\"><img id=\"draggable\" src=\"http://10.200.0.202:7070/AngularTest/Pic/logo.jpg\" /> <h3>JJ Pie Chart Demo3</h3><p>A pie chart that is rendered within the browser using SVG or VML. Displays tooltips when hovering over slices</p><button class=\"btn btn-primary\">Button1</button><button class=\"btn btn-primary\">Button2</button></div></div></div>\"");
        test.appendTo("#chartContainer");
        drawChart();
        $('#newThumbNail' + $newChartID).hide();
        $('#newThumbNail' + $newChartID).show("blind", 500);
        $removeChartID = $newChartID;
        $newChartID++;
        //alert("working!!!");
    })

    $('#RemoveViewTest').click(function () {
        Remove();
    })



    function drawChart() {
        //alert("working!!!");
        google.load("visualization", "1", { packages: ["corechart"] });
        google.setOnLoadCallback(drawChart);
        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Work', 11],
          ['Eat', 2],
          ['Commute', 2],
          ['Watch TV', 2],
          ['Sleep', 7]
        ]);

        var options = {
            title: 'My Daily Activities',
            pieHole: 0.4,
        };


        chart = new google.visualization.PieChart(document.getElementById('newPieChart' + $newChartID));
        chart.draw(data, options);

    }

    function Remove() {

        //alert('#newPieChart' + $removeChartID);
        // alert("div[id=#newPieChart" + $removeChartID + "]");
        if ($removeChartID > 0) {
            $('#newThumbNail' + $removeChartID).hide("blind", 500, RemoveDiv);
            //$('#newThumbNail' + $removeChartID).remove();
            //$removeChartID--;
        }
        else
        {
            alert("There is no new chart added");
        }
        //$("div[id=#newPieChart" + $removeChartID+"]").remove();
    }

    function RemoveDiv()
    {
        $('#newThumbNail' + $removeChartID).remove();
        $removeChartID--;
    }

</script>

{{123|currency}}

<input class="form-control" ng-model="HelloTest" />
<p>{{HelloTest|Hello}}</p>

<hr />
<div id="JasperValueTest" ng-controller="JasperValueCtrl as JJ">
    Jasper value test : {{JJ.JasperValueTest}}
</div>

<hr />
<div id="JasperFactoryTest" ng-controller="FactoryTestCtrl">
    <button class="btn btn-primary" ng-click="factoryTest()">Factory Test Button</button>
</div>



<script type="text/javascript">
  
    google.load('visualization', '1', { packages: ['gauge'] });
    google.setOnLoadCallback(drawCPUChart);
    var cpuUsage  = 0;
    
    $(document).ready(function () {
//alert("working");
        $.ajax({
            type: 'POST',
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            url: 'http://10.200.0.202:7070/AngularTest/WebServices/JJWS.asmx/GetCpuUsage',
            data: "",
            success: function (data) {
                
               //var dataToShow = JSON.parse(data);
                console.log(data.d);
                cpuUsage = data.d;
                
                //alert(cpuUsage);
            },
            error: function (a, b, c) {
                alert("Not working!!!");
            }
        });
    })

    function getCpuData() {
        $.ajax({
            type: 'POST',
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            url: 'http://10.200.0.202:7070/AngularTest/WebServices/JJWS.asmx/GetCpuUsage',
            data: "",
            success: function (data) {

                //var dataToShow = JSON.parse(data);
                console.log(data.d);
                cpuUsage = data.d;

                
            },
            error: function (a, b, c) {
                alert("Not working!!!");
            }
        });
    }

    $(document).ready(function () {
        setInterval(drawCpuUsageChart, 1000);
    })

    function drawCpuUsageChart() {
        
        drawCPUChart();
      
        //alert();
     
       
    }

    function drawCPUChart() {
        //alert(cpuUsage);
        getCpuData();
        var data = google.visualization.arrayToDataTable([
          ['Label', 'Value'],
          ['CPU', parseInt(cpuUsage)],
       
        ]);

        var options = {
            width: 400, height: 120,
            redFrom: 90, redTo: 100,
            yellowFrom: 75, yellowTo: 90,
            minorTicks: 5
        };
        console.log(cpuUsage);
        var chart = new google.visualization.Gauge(document.getElementById('cpuUsage'));
        chart.draw(data, options);
    }


    function alert() {
        console.log("Working!!!");
    }

    $(function () {
        $("#cpuUsage").draggable();
    });

</script>

<div id="cpuUsage"></div>

